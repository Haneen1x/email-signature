<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/x-icon" href="https://i.postimg.cc/9wphn2wS/9wphn2wS.png">
  <title>مولد توقيع البريد الإلكتروني - شركة الحلول النوعية</title>
  <script src="https://raw.githack.com/eKoopmans/html2pdf/master/dist/html2pdf.bundle.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script> <!-- هذا هو المطلوب -->
  <style>

  body {
  font-family: 'Segoe UI', Tahoma, sans-serif;
    background: linear-gradient(to bottom right, #e3f2fc, #cde5f5);
    padding: 30px;
    color: #003366;   
      
}
    form {
     max-width: 550px;
    margin: 0 auto 3rem auto;
    background: #ffffff;
    padding: 25px 30px;
    border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0, 64, 128, 0.1);
    border: 1px solid #d6e8f5;
    }

    label {
     font-weight: bold;
    display: block;
    margin-top: 18px;
    font-size: 15px;
    color: #003366;
    }

    input {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border: 1px solid #b0cce0;
    border-radius: 6px;
    font-size: 14px;
    background: #f9fcff;
    }

    button {
       margin-top: 25px;
    width: 100%;
    background: linear-gradient(to right, #004080, #0070b8);
    color: white;
    padding: 12px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.3s;
  }

  button:hover {
    background: linear-gradient(to right, #003366, #005fa3);
  }

    #outputContainer {
      margin-top: 40px;
      text-align: center;
    }

    #signature {
  background: white;
  border-radius: 10px;
  max-width: 800px;
  max-height: 400px;
  margin: auto;
  padding: 20px 25px;
  display: none;
  direction: ltr;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.05);
  position: relative;
  border: 1px solid #d9eaf7;
}

   /*     
      #signature::before {
  content: "";
  display: block;
  height: 5px;
  width: 100%;
  background: linear-gradient(to right, #6ea7ce, #004080);
  border-top-left-radius: 10px;
  border-top-right-radius: 10px;
  margin-bottom: 12px;
}

#signature::after {
 content: "";
  display: block;
  height: 5px;
  width: 100%;
  background: linear-gradient(to right, #004080, #6ea7ce);
  border-bottom-left-radius: 10px;
  border-bottom-right-radius: 10px;
  margin-top: 12px;
}

  */    
    .sig-header {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      margin-top: 23px;
    }

    .sig-logo-container {
    display: flex;
  flex-direction: column;
  align-items: center; /* ← توسيط الشعار والأيقونات */
  text-align: center;
    }

.sig-logo {
  width: 190px;
  height: 150px;
  margin-top: 9px; /* هذه هي الإضافة */
   margin-left: 8px;
}

    .social-icons {
    margin-top: 48px; /* ← المسافة العلوية */
  display: flex;
  justify-content: center; /* ← توسيط الأيقونات داخل الحاوية */
  flex-wrap: wrap;
 
    }

    .social-icons img {
  width: 21px; /* قم بزيادة الحجم */
  margin: 0px 8px;
  border-radius: 10px;
  border: 1px solid #ccc;
  padding: 3px;
  background: white;
  transition: transform 0.3s;
}

    }
      
      .social-icons img:hover {
  transform: scale(1.1);
}

    /* خطوط ونصوص التوقيع */
    .sig-name {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      font-size: 23px;
      font-weight: 700;
      color: #6ea7ce;
      margin-bottom: 6px;
      text-align: left;
    }

    .sig-job {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      font-size: 17px;
      font-weight: 600;
      color: #444444;
      margin-bottom: 10px;
      text-align: left;
    }

    .sig-line {
      height: 3px;
      background-color: #6ea7ce;
      margin: 15px 0;
        margin-top: 20px;
    }

      
     /* زر الحفظ والنسخ */
    #saveBtn, #copyHtmlBtn {
    width: 200px;
  height: 55px;
  background: linear-gradient(to right, #004080, #0070b8);
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 15px;
  font-weight: bold;
  cursor: pointer;
  transition: background 0.3s;
    }

    #saveBtn:hover, #copyHtmlBtn:hover {
      background: linear-gradient(to right, #003366, #005fa3);
    }

    /* حاوية الأزرار */
    #saveBtnContainer {
  display: none;
  justify-content: center;
  align-items: center;
  gap: 20px;
  margin-top: 30px;
  flex-wrap: wrap;
    }

    /* رسالة النسخ */
    #copyStatus {
      text-align: center;
      margin-top: 15px;
      font-size: 14px;
      color: green;
    }

      
    /* تنسيق بيانات الاتصال مع الأيقونات */
    .contact-info div {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
      color: #333333;
      font-weight: 400;
      font-size: 17px;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      justify-content: flex-start;
      direction: ltr;
      text-align: left;
    }

    .contact-info svg {
      fill: #6c757d; /* لون رمادي هادي */
      width: 18px;
      height: 18px;
      flex-shrink: 0;
    }

@media print {
  .social-icons, #saveBtnContainer, form {
    display: none !important;
  }
  #signature {
    box-shadow: none !important;
    border: none !important;
  }
}

      
  </style>
</head>
<body>

  <form id="signatureForm">
    <h1 style="color: rgb(52, 63, 118); font-family:Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif; size: 30px;"> <center>إنشاء توقيع البريد الإلكتروني لشركة الحلول النوعية </center></h1>
    <label>Full Name:</label>
    <input type="text" id="name" required placeholder="Ahmad Saad" >
    <label>Job Title:</label>
    <input type="text" id="job" required placeholder="Technical Support Specialist" >

    <label>Email:</label>
    <input type="email" id="email" required placeholder="example@qsc.com.sa">

    <label>Mobile Number:</label>
    <input type="text" id="mobile" required placeholder="+966 552200992">

    <label>Extension Number:</label>
<input type="text" id="extension" placeholder="1234">

    <button type="submit">إنشاء التوقيع</button>
    <br>
    <br>
  </form>

  <div id="outputContainer">
    <div id="signature">
        
      <div class="sig-header">
  <!-- شعار وحسابات الشركة -->
  <div class="sig-logo-container">
    <img src="https://i.postimg.cc/9wphn2wS/9wphn2wS.png" class="sig-logo" alt="Logo">
    <div class="social-icons">
      <a href="https://www.linkedin.com/company/qscksa" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/145/145807.png"></a>
      <a href="https://x.com/qsc_it" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/5968/5968958.png"></a>
      <a href="https://www.instagram.com/qscksa" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/3955/3955024.png"></a>
      <a href="https://www.tiktok.com/@qsc_it" target="_blank"><img src="https://cdn-icons-png.flaticon.com/512/3046/3046122.png"></a>
    </div>
  </div>

  <!-- بيانات التوقيع + الشهادة -->
  <div style="display: flex; justify-content: space-between; width: 100%; align-items: flex-start;">
    <!-- بيانات التوقيع -->
    <div style="flex: 1;">
      <div class="sig-name" id="sigName"></div>
      <div class="sig-job" id="sigJob"></div>
      <div class="sig-line"></div>
      <div class="contact-info" style="line-height: 1.7;">
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 4H4a2 2 0 00-2 2v12a2 2 0 002 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 2v.01L12 13 4 6.01V6h16zM4 18V8l7.382 6.522a1 1 0 001.236 0L20 8v10H4z"/></svg>
          <a id="sigEmail" href="#" style="color:#004080; text-decoration:none;" target="_blank"></a>
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill:#6c757d; width:18px; height:18px; margin-right:6px;">
            <path d="M7 2a2 2 0 00-2 2v16a2 2 0 002 2h10a2 2 0 002-2V4a2 2 0 00-2-2H7zm5 18a1 1 0 110-2 1 1 0 010 2zm3-4H9V6h6v10z"/>
          </svg>
          <span id="sigMobile"></span>
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill:#6c757d; width:18px; height:18px; margin-right:6px;">
            <path d="M6.62 10.79a15.053 15.053 0 006.59 6.59l2.2-2.2a1 1 0 011.11-.21 11.72 11.72 0 003.69.59 1 1 0 011 1v3.5a1 1 0 01-1 1A17 17 0 013 6a1 1 0 011-1h3.5a1 1 0 011 1 11.72 11.72 0 00.59 3.69 1 1 0 01-.21 1.11l-2.26 2.26z"/>
          </svg>
          ‪+966 11 406 2900‬&nbsp;&nbsp;&nbsp;&nbsp; Ext:<span id="sigExtension"></span>
        </div>
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="fill:#6c757d;">
            <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5A2.5 2.5 0 1112 6.5a2.5 2.5 0 010 5z"/>
          </svg>
          Saudi Arabia, Riyadh
        </div>
      </div>
    </div>

    <!-- صورة شهادة ISO -->
    <div style= "margin-top:7px; margin-right: 3px; ">
      <img src="https://i.imgur.com/EC5jiT6.png" alt="ISO 9001" style="height: 70px;">
    </div>
  </div>
</div>
<div style="text-align: right; font-size: 12px; color: #999;">© Quality Solutions Company</div>

</div>
      </div>
  <!-- خارج التوقيع -->
<!-- توقيع -->
<div id="signature" style="background: white; padding: 20px; border-radius: 10px;">
  <h2 style="text-align: center;">توقيع البريد الإلكتروني</h2>
  <!-- محتوى التوقيع يمكن وضعه هنا -->
</div>

<!-- أزرار الحفظ والنسخ -->
<div id="saveBtnContainer">
  <button id="saveBtn" onclick="saveAsImage()">📸 حفظ التوقيع كصورة</button>
  <button id="copyHtmlBtn" onclick="copySignatureHtml()">📋 HTML نسخ التوقيع كـ </button>
</div>

<!-- رسالة نجاح النسخ -->
<div id="copyStatus"></div>

  <script>
    document.getElementById("signatureForm").addEventListener("submit", function(event) {
      event.preventDefault();
      document.getElementById("sigName").textContent = document.getElementById("name").value;
      document.getElementById("sigJob").textContent = document.getElementById("job").value + " ,Quality Solutions Company";
      const email = document.getElementById("email").value;
      document.getElementById("sigEmail").textContent = email;
      document.getElementById("sigEmail").href = "mailto:" + email;
      document.getElementById("sigMobile").textContent = document.getElementById("mobile").value;
      document.getElementById("sigExtension").textContent = document.getElementById("extension").value;

      document.getElementById("signature").style.display = "block";
     document.getElementById("saveBtnContainer").style.display = "flex";

    });

    function saveAsImage() {
  const signature = document.getElementById("signature");
  const saveButton = document.getElementById("saveBtn"); // تأكد أن الزر يحتوي على هذا الـ id
  const images = signature.getElementsByTagName("img");
  let loadedCount = 0;
  const totalImages = images.length;

  // إخفاء زر الحفظ مؤقتًا بدون ترك فراغ
  saveButton.style.display = "none";

  if (totalImages === 0) {
    capture();
  } else {
    for (let img of images) {
      if (img.complete) {
        loadedCount++;
      } else {
        img.onload = img.onerror = () => {
          loadedCount++;
          if (loadedCount === totalImages) {
            capture();
          }
        };
      }
    }
    if (loadedCount === totalImages) {
      capture();
    }
  }

  function capture() {
    html2canvas(signature, { useCORS: true, scale: 3 }).then(canvas => {
      const link = document.createElement("a");
      link.download = 'QSC-Signature.png';
      link.href = canvas.toDataURL("image/png");
      link.click();

      // إعادة إظهار زر الحفظ بعد التصوير
      saveButton.style.display = "inline-block";
    });
  }
}

 function showButtons() {
    const container = document.getElementById("saveBtnContainer");
    container.style.display = "flex";
  }



  // نسخ HTML
  function copySignatureHtml() {
    const signature = document.getElementById("signature");
    const temp = document.createElement("textarea");
    temp.value = signature.innerHTML;
    document.body.appendChild(temp);
    temp.select();
    document.execCommand("copy");
    document.body.removeChild(temp);

    document.getElementById("copyStatus").textContent = "✅ ! تم نسخ التوقيع بنجاح";
  }

  </script>
</body>
</html>
